{% extends "mysite/base.html" %}

{% block title %}LMS{% endblock %}
{% block import %}
{% load static %}
    <link rel="stylesheet" href="{% static 'polls/css/results.css' %}">
    <script type="text/javascript" src="{% static 'polls/js/lms.js' %}"></script>
{% endblock %}
{% block name %}Результаты тестирования{% endblock %}
{% block content %}
{% csrf_token %}
    <script>
        const CRSF_token = document.getElementsByName('csrfmiddlewaretoken')[0].value;
    </script>

<div class="info-block">
    <div class="card">
        <div class="card--title">
            Затраченное время
            <div class="underline"></div>
        </div>

        <div class="card--value">{{time_spent}}</div>

    </div>
    <div class="card">
        <div class="card--title">
            Количество верных ответов
            <div class="underline"></div>
        </div>
        <div class="card--value">{{correct_answers}}</div>
    </div>
    <div class="card">
        <div class="card--title">
            Процент верных ответов
            <div class="underline"></div>
        </div>
        <div class="card--value">{{correct_answers_percentage}}</div>
    </div>
    <div class="card">
        <div class="card--title">
            Оценка
            <div class="underline"></div>
        </div>
        <div class="card--value">{{grade}}</div>
    </div>
</div>

<div class="card big">
    <table class="table table-striped">
    <thead >
        <tr>
            <th scope="col">Пример</th>
            <th scope="col">Данный ответ</th>
            <th scope="col">Правильные ответы</th>
            <th scope="col">Время решения</th>
            <th scope="col">Проверка</th>
        </tr>
    </thead>
    <tbody>
    {% for ex in history %}
        <tr>
            <td>{{ex.text}}</td>
            <td>{{ex.given_answer}}</td>
            <td>{{ex.correct_answer}}</td>
            <td>{{ex.time_spent}}</td>
            <td>
                {% if ex.is_correct is true %}
                    <font color="#00cc00" size="5"><i class="icon-search glyphicon glyphicon-ok-circle"></i></font>
                {% else %}
                    <font color="#ff5050" size="5"><i class="icon-search glyphicon glyphicon-remove-circle"></i></font>
                {% endif %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
</div>


{% endblock %}